<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/error.js~ErrorM.html">ErrorM</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/flow.js~Flow.html">Flow</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/identity.js~Identity.html">Identity</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/list.js~List.html">List</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/maybe.js~Maybe.html">Maybe</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/monad.js~Monad.html">Monad</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/state.js~State.html">State</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">services</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-cast">cast</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-clone">clone</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><p><a href="https://travis-ci.org/sash-ua/monad-ts"><img src="https://travis-ci.org/sash-ua/monad-ts.svg?branch=master" alt="Build Status"></a>
<a href="https://github.com/sash-ua/monad-ts"><img src="https://img.shields.io/npm/dw/localeval.svg" alt="npm"></a></p>
<h1 id="monad-ts">Monad-ts</h1>
<p>Monad-ts is a small (7kb) library implements some of key monads and way to chain them in a pipe (flow) in JavaScript.</p>
<h2 id="content">Content</h2>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#intro">Intro</a></li>
</ul>
<p><strong>All monads</strong></p>
<ul>
<li><a href="#identity">Identity</a></li>
<li><a href="#maybe">Maybe</a></li>
<li><a href="#errorm">ErrorM</a></li>
<li><a href="#list">List</a></li>
<li><a href="#state">State</a></li>
</ul>
<p><strong>Additional tools (class and functions)</strong></p>
<ul>
<li><a href="#flow">Flow</a></li>
<li><a href="#clone">clone</a></li>
<li><a href="#cast">cast</a></li>
</ul>
<h2 id="installation">Installation</h2>
<p>In library used ES5 (map, reduce), ES6 (Map, Array.from, Object.assign, Object.keys) methods. It&apos;s strongly recommended to always
use ES5-shim and ES6-shim or alternatives.</p>
<pre><code><code class="source-code prettyprint">npm install monad-ts</code>
</code></pre><p>or</p>
<pre><code><code class="source-code prettyprint"> yarn add monad-ts</code>
</code></pre><h2 id="tests">Tests</h2>
<p>Clone the repo, <code>npm install</code> or <code>yarn</code> and run tests.</p>
<pre><code><code class="source-code prettyprint">npm run test</code>
</code></pre><p>or</p>
<pre><code><code class="source-code prettyprint"> yarn test</code>
</code></pre><h2 id="intro">Intro</h2>
<p>** This monads implementation aren&apos;t exact copy of Haskell monads. My goal was to reach results comparable with the
using of like monads from Haskell in JS.</p>
<p>One of the main ideas of functional programming is to use pure functions as much as possible. But pure functions
don&apos;t do any kind of side-effects. At the same time the majority of programs should operate with side-effects in
process. Monads allow us to do all the side-effecting computations using pure functions effectively.</p>
<h2 id="-api-https-sash-ua-github-io-monad-ts-"><a href="https://sash-ua.github.io/monad-ts/">API</a></h2>
<h3 id="ways-to-use-">Ways to use:</h3>
<h4 id="1-as-a-dependency-">1. As a dependency.</h4>
<p>Example:</p>
<pre><code><code class="source-code prettyprint">const e: number = 50;
let r : number;
let t : number[];
console.log(t); // undefined
console.log(r); // undefined
const z = new Flow(5)
    .bind((v: number): any =&gt; v+1)
    .let((v: number): any =&gt; new Flow(v).bind(v =&gt; r = v+e))
    .bind((v: number): any =&gt; cast(list.bind(v =&gt; [v-1, v, v+1], [-v, v ]), 1))
    .let((v: number)=&gt; new Flow(v).bind(v =&gt; t = v, cast(list.bind(v=&gt;[v, -v], v), 1)))
    .subscribe();
console.log(r); // 56
console.log(t); // [ -7, 7, -6, 6, -5, 5, 5, -5, 6, -6, 7, -7 ]
console.log(z); // [ -7, -6, -5, 5, 6, 7 ]</code>
</code></pre><h4 id="2-add-to-html-page-">2. Add to html page.</h4>
<pre><code><code class="source-code prettyprint">&lt;script type=&quot;text/javascript&quot; src=&quot;lib/monad-ts.min.js&quot;&gt;&lt;/script&gt;</code>
</code></pre><p>Type: UMD.</p>
<p>Library name: Monad_ts.</p>
<p>Example:</p>
<pre><code><code class="source-code prettyprint">var state = new Monad_ts.State({q:1, w:2});
 console.log(state.get()); // {q:1, w:2}

 var maybe = new Monad_ts.Maybe();
 var z = {
     url: &apos;http://...&apos;,
     getUrl: function (){
         return this.url;
     }
 };
 console.log(maybe.bind(r =&gt; r.getUrl(), z)); // http://...</code>
</code></pre><h2 id="monads">Monads</h2>
<h4 id="identity">Identity</h4>
<p>It just wraps a value and return value transformed by given function.</p>
<p>Method.</p>
<ul>
<li>just(function, value) - return transformed value<pre><code><code class="source-code prettyprint">const i = new Identity();
i.just(v=&gt;v+1, 3); // 4</code>
</code></pre></li>
</ul>
<h4 id="maybe">Maybe</h4>
<p>It similar to the Identity but it can also represent the absence of any value. Monad Maybe returns value transformed
by given function. If Maybe monad gets null or undefined in given values it produce null. If after application of given transformation function monad get null or undefined monad produce null.</p>
<p>Method.</p>
<ul>
<li>bind(function, value) - return null or transformed value<pre><code><code class="source-code prettyprint">const maybe = new Maybe();
const z = {
          url: &apos;http://...&apos;,
          getUrl: function (){
              return this.url;
          }
      };
maybe.bind(r =&gt; r.getUrl(), z); // return http://...</code>
</code></pre></li>
</ul>
<h4 id="errorm">ErrorM</h4>
<p>It similar to the Identity but it can also represent the error. Error monad returns value transformed by given function. If Error monad gets Error in given values it produce Error. If after application of given transformation function monad get Error monad produce Error.</p>
<p>Method.</p>
<ul>
<li>bind(function, value) - return Error or transformed value<pre><code><code class="source-code prettyprint">const e = new ErrorM();
e.bind(v =&gt; e.bind(v1=&gt;v+v1, 1), 1/0); // Error</code>
</code></pre></li>
</ul>
<h4 id="list">List</h4>
<p>The List monad represents a lazily computed list of values. It takes in an input value of type A, and produce a bunch of output values of type B, collected in one container (the array).</p>
<p>It get array and return array, to cast array dimension according to entered array we can use function <a href="#cast">cast</a>;</p>
<p>Method.</p>
<ul>
<li>bind(function, value) - return transformed value<pre><code><code class="source-code prettyprint">const list = new List();
const x = [10, 2]; // Entered array
z = cast(list.bind(v =&gt;list.bind(v =&gt; [-v, v], [v-1, v, v+1]), x), 2); // [ -9, 9, -10, 10, -11, 11, -1, 1, -2, 2,
-3, 3 ]</code>
</code></pre></li>
</ul>
<h4 id="state">State</h4>
<p>The State monad interact with local and global state variables to transform them.</p>
<p>Constructor get initial application state as object.</p>
<p>Methods.</p>
<ul>
<li>put(function) - it get function transforming application state.</li>
<li>get() - return application state.<pre><code><code class="source-code prettyprint">const initState = {
      data: 1,
      children: [{
          data: 2,
          parent: &apos;null&apos;
      }],
      arr:[1,2,3]
  };
  const st = new State(initState);
  console.log(st.get()); // return initState object
  st.put(v =&gt; {
                  v.data = 10;
                  v.arr = list.bind(v =&gt; v+f, v.arr);
                  return v;
              });
  console.log(st.get()); // { data: 10, children: [ Object({ data: 2, parent: &apos;null&apos; }) ], arr: [ 2.25, 3.25, 4.25 ] }</code>
</code></pre></li>
</ul>
<h2 id="additional-tools-class-and-functions-">Additional tools (class and functions)</h2>
<h4 id="flow">Flow</h4>
<p>Class to composing monads in a pipe (flow).</p>
<p>Constructor create instance of the class, takes initial value when start new pipe and keeps inside.</p>
<p>Methods.</p>
<ul>
<li>bind(function) - return transformed value.</li>
<li>let(function) - create branch from a pipe.</li>
<li>subscribe() - extract value from a pipe.<pre><code><code class="source-code prettyprint">const e: number = 50;
let r : number;
let t : number[];
const z = new Flow(5)
          .bind((v: number): any =&gt; v+1)
          .let((v: number): any =&gt; new Flow(v).bind(v =&gt; r = v+e))
          .bind((v: number): any =&gt; cast(list.bind(v =&gt; [v-1, v, v+1], [-v, v ]), 1))
          .let((v: number)=&gt; new Flow(v).bind(v =&gt; t = v, cast(list.bind(v=&gt;[v, -v], v), 1)))
          .subscribe();
console.log(r); // 56
console.log(t); // [ -7, 7, -6, 6, -5, 5, 5, -5, 6, -6, 7, -7 ]
console.log(z); // [ -7, -6, -5, 5, 6, 7 ]</code>
</code></pre></li>
</ul>
<h4 id="clone">clone</h4>
<p>Function to clone objects (including Map). It takes objects and primitives.</p>
<pre><code><code class="source-code prettyprint">const x = {x:1};
const z = clone(x);
z.x = 10;
console.log(z); // {x:10}
console.log(x); // {x:1}</code>
</code></pre><h4 id="cast">cast</h4>
<p>Function to decreasing the dimension of an array by factor n. It takes array and factor.</p>
<pre><code><code class="source-code prettyprint">console.log(cast([10, [11], [12]], 0)); // [10, [11], [12]]
console.log(cast([10, [[11, [2]], 3], [12]], 2)); // [ 10, 11, [ 2 ], 3, 12 ]</code>
</code></pre><p><a href="#monad-ts">UP</a></p>
<h2 id="license">License</h2>
<p>Monad_ts is copyright (c) 2017 - present Alex Tranchenko tranchenkoa@gmail.com .</p>
<p>Monad_ts is free software, licensed under the Apache License, Version 2.0. See the file LICENSE.md in this distribution for more details.</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
